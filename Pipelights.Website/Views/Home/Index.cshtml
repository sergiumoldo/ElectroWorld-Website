@model IEnumerable<Pipelights.Website.BusinessService.Models.ProductDetailsDto>

@{
    ViewData["Title"] = "Index";
    var testimonials = ViewBag.Testimonials;
}
<style>
    .service-item1 .overflow-hidden1 {
        position: relative;
        height: 0;
        padding-top: 50%; /* Set a fixed height for the container, maintaining a 2:1 aspect ratio */
    }

    .service-item1 img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%; /* Ensure the image takes the full width of its container */
        height: 100%; /* Ensure the image takes the full height of its container */
        object-fit: cover; /* Maintain aspect ratio and cover the container */
    }

</style>
<!-- Carousel Start -->
<div class="container-fluid p-0 pb-5">
    <div class="owl-carousel header-carousel position-relative">
        <div class="owl-carousel-item position-relative">
            <img class="img-fluid" src="~/lib/img/1.jpg" alt="">
            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-lg-8 text-center">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Welcome To WooDY</h5>
                            <h1 class="display-3 text-white animated slideInDown mb-4">Best Carpenter & Craftsman Services</h1>
                            <p class="fs-5 fw-medium text-white mb-4 pb-2">Vero elitr justo clita lorem. Ipsum dolor at sed stet sit diam no. Kasd rebum ipsum et diam justo clita et kasd rebum sea elitr.</p>
                            <a href="" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Read More</a>
                            <a href="" class="btn btn-light py-md-3 px-md-5 animated slideInRight">Free Quote</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="owl-carousel-item position-relative">
            <img class="img-fluid" src="~/lib/img/2.jpg" alt="">
            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-lg-8 text-center">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Welcome To WooDY</h5>
                            <h1 class="display-3 text-white animated slideInDown mb-4">Best Carpenter & Craftsman Services</h1>
                            <p class="fs-5 fw-medium text-white mb-4 pb-2">Vero elitr justo clita lorem. Ipsum dolor at sed stet sit diam no. Kasd rebum ipsum et diam justo clita et kasd rebum sea elitr.</p>
                            <a href="" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Read More</a>
                            <a href="" class="btn btn-light py-md-3 px-md-5 animated slideInRight">Free Quote</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="owl-carousel-item position-relative">
            <img class="img-fluid" src="~/lib/img/3.jpg" alt="">
            <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(53, 53, 53, .7);">
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-12 col-lg-8 text-center">
                            <h5 class="text-white text-uppercase mb-3 animated slideInDown">Welcome To WooDY</h5>
                            <h1 class="display-3 text-white animated slideInDown mb-4">Best Carpenter & Craftsman Services</h1>
                            <p class="fs-5 fw-medium text-white mb-4 pb-2">Vero elitr justo clita lorem. Ipsum dolor at sed stet sit diam no. Kasd rebum ipsum et diam justo clita et kasd rebum sea elitr.</p>
                            <a href="" class="btn btn-primary py-md-3 px-md-5 me-3 animated slideInLeft">Read More</a>
                            <a href="" class="btn btn-light py-md-3 px-md-5 animated slideInRight">Free Quote</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Carousel End -->
<!-- Products Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="section-title text-center">
            <h1 class="display-5 mb-5">Ultimele produse</h1>
        </div>

        <div class="row g-4">
            @foreach (var item in Model)
            {
                <div class="col-md-6 col-lg-3 wow fadeInUp" data-wow-delay="0.1s">
                    <div class="service-item">
                        <div class="overflow-hidden border border-5 border-light p-4 text-center">
                            <img class="img-fluid mb-3" src="@item.MainImage" alt="">
                            <h4 class="mb-3">@item.Name</h4>
                            <h4 class="mb-3">@item.Price RON</h4>
                            <a class="fw-medium btn btn-primary" href="~/Products/Details?Id=@item.Id">Vezi produs</a>
                        </div>
                        <div class="  border-top-0">
                        </div>
                    </div>
                </div>
            }
        </div>


    </div>
</div>
<!-- Products End -->
<!-- Service Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="section-title text-center">
            <h1 class="display-5 mb-5">Servicii</h1>
        </div>
        <div class="container" id="partial"></div>
    </div>
    <br />
    <div class="section-title text-center">
        <a href="~/Home/Contact" class="btn btn-primary mx-3">Cere oferta</a>
        <a href="~/Home/Services" class="btn btn-secondary mx-3">Vezi serviciile</a>
    </div>
</div>

<!-- About Start -->
<div class="container-fluid bg-light overflow-hidden my-5 px-lg-0">
    <div class="container about px-lg-0">
        <div class="row g-0 mx-lg-0">
            <div class="col-lg-6 ps-lg-0" style="min-height: 400px; position: relative; overflow: hidden;">
                <video class="position-absolute w-100 h-100" src="/lib/img/video.mov" style="object-fit: cover;" alt="" autoplay loop muted playsinline></video>
            </div>
            <div class="col-lg-6 about-text py-5 wow fadeIn" data-wow-delay="0.5s">
                <div class="p-lg-5 pe-lg-0">
                    <div class="section-title text-start">
                        <h1 class="display-5 mb-4">About Us</h1>
                    </div>
                    <p class="mb-4 pb-2">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo erat amet</p>
                    <div class="row g-4 mb-4 pb-2">
                        <div class="col-sm-6 wow fadeIn" data-wow-delay="0.1s">
                            <div class="d-flex align-items-center">
                                <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-white" style="width: 60px; height: 60px;">
                                    <i class="fa fa-users fa-2x text-primary"></i>
                                </div>
                                <div class="ms-3">
                                    <h2 class="text-primary mb-1" data-toggle="counter-up">1234</h2>
                                    <p class="fw-medium mb-0">Happy Clients</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6 wow fadeIn" data-wow-delay="0.3s">
                            <div class="d-flex align-items-center">
                                <div class="d-flex flex-shrink-0 align-items-center justify-content-center bg-white" style="width: 60px; height: 60px;">
                                    <i class="fa fa-check fa-2x text-primary"></i>
                                </div>
                                <div class="ms-3">
                                    <h2 class="text-primary mb-1" data-toggle="counter-up">1234</h2>
                                    <p class="fw-medium mb-0">Projects Done</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a href="~/Home/GetServices" class="btn btn-primary py-3 px-5">Explore More</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- About End -->

<!-- Testimonial Start -->
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container">
        <div class="section-title text-center">
            <h1 class="display-5 mb-5">Parerea clientilor</h1>
        </div>
        <div class="owl-carousel testimonial-carousel">
            @foreach (var test in testimonials)
            {
                <div class="testimonial-item text-center">
                    <div>
                        @{
                            // Convert Stars to integer
                            int numberOfStars = Convert.ToInt32(test.Stars);
                        }
                        @for (int i = 1; i <= 5; i++)
                        {
                            <span class="icon" style="font-size:35px;color: @(i <= numberOfStars ? "#FF9529" : "grey");">★</span>
                        }
                    </div>
                    <br>
                    <div class="testimonial-text text-center p-4">
                        <p>@test.Description</p>
                        <h5 class="mb-1">@test.Name</h5>
                    </div>
                </div>
            }
        </div>
        <br />
        <br />
        <div class="section-title text-center">
            <a href="~/Testimonial" class="btn btn-primary mx-3">Scrie o recenzie</a>
        </div>
    </div>
</div>
<!-- Testimonial End -->


<script src="https://cdn.jsdelivr.net/npm/tw-elements/dist/js/index.min.js"></script>



<script>
    var xhr = new XMLHttpRequest();
    xhr.open('GET', '/Home/GetServices', true);

    xhr.onload = function () {
        if (xhr.status >= 200 && xhr.status < 300) {
            document.getElementById('partial').innerHTML = xhr.responseText;
            console.log('Partial view loaded successfully!');
        } else {
            console.error('Error loading partial view. Status: ' + xhr.status);
            console.log(xhr.responseText); // Log the response text for more details
        }
    };

    xhr.onerror = function () {
        console.error('Network error occurred.');
    };

    xhr.send();
</script>